[{"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/PublishPage/PublishPage.js":"1","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Components/Header/Header.js":"2","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/Home/Home.js":"3","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Components/DropZone.js":"4","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/LoginAndSignUpPage/LoginPage.js":"5","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/OfferPage/OfferPage.js":"6","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/App.js":"7","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/PaymentPage/PaymentPage.js":"8","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/LoginAndSignUpPage/SignUpPage.js":"9","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Components/ShowPictures.js":"10","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Components/Drawer/Drawer.js":"11","/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/index.js":"12"},{"size":6009,"mtime":1619196568592,"results":"13","hashOfConfig":"14"},{"size":2144,"mtime":1618999722399,"results":"15","hashOfConfig":"14"},{"size":3323,"mtime":1618813543021,"results":"16","hashOfConfig":"14"},{"size":1009,"mtime":1619196274806,"results":"17","hashOfConfig":"14"},{"size":1867,"mtime":1618812242195,"results":"18","hashOfConfig":"14"},{"size":3604,"mtime":1619196513496,"results":"19","hashOfConfig":"14"},{"size":5164,"mtime":1619361155394,"results":"20","hashOfConfig":"14"},{"size":3717,"mtime":1618811028926,"results":"21","hashOfConfig":"14"},{"size":3673,"mtime":1618812250680,"results":"22","hashOfConfig":"14"},{"size":827,"mtime":1619105759714,"results":"23","hashOfConfig":"14"},{"size":345,"mtime":1619358567633,"results":"24","hashOfConfig":"14"},{"size":432,"mtime":1610894775635,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"29"},"wm5e5b",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/PublishPage/PublishPage.js",["57"],"import { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport DropZone from \"../../Components/DropZone\";\nimport ShowPictures from \"../../Components/ShowPictures\";\n\nconst PublishPage = ({ authToken, redirect, setRedirect }) => {\n  let history = useHistory();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [size, setSize] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [brand, setBrand] = useState(\"\");\n  const [condition, setCondition] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n  const [price, setPrice] = useState();\n  const [files, setFile] = useState();\n\n  const [showPictures, setShowPictures] = useState(false);\n\n  const handleTitleChange = (event) => setTitle(event.target.value);\n  const handleDescriptionChange = (event) => setDescription(event.target.value);\n  const handleSizeChange = (event) => setSize(event.target.value);\n  const handleCityChange = (event) => setCity(event.target.value);\n  const handleBrandChange = (event) => setBrand(event.target.value);\n  const handleConditionChange = (event) => setCondition(event.target.value);\n  const handleColorChange = (event) => setColor(event.target.value);\n  const handlePriceChange = (event) => setPrice(event.target.value);\n  const handleFileChange = (file) => setFile(file);\n\n  //a faire traiter le  back end pour les photos\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    for (let i = 0; i < files.length; i++) {\n      formData.append(`picture${i}`, files[i]);\n    }\n    formData.append(\"title\", title);\n    formData.append(\"description\", description);\n    formData.append(\"size\", size);\n    formData.append(\"city\", city);\n    formData.append(\"brand\", brand);\n    formData.append(\"condition\", condition);\n    formData.append(\"color\", color);\n    formData.append(\"price\", price);\n\n    try {\n      const response = await axios.post(\n        \"http://localhost:3100/offer/publish\",\n        formData,\n        {\n          headers: {\n            Authorization: \"Bearer \" + authToken,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n      console.log(response);\n    } catch (error) {\n      if (error.response.data.message) {\n        console.log(error.response.data);\n        alert(error.response.data.message);\n        // setRedirect(true);\n        // history.push(\"/user/login\");\n      } else {\n        alert(\"echec un probleme a été detecter\");\n      }\n    }\n  };\n  console.log(files);\n  return (\n    <>\n      {authToken ? (\n        <div className=\"PublishPage\">\n          <h2>Vends ton article</h2>\n          <form onSubmit={handleSubmit}>\n            <div>\n              {Array.isArray(files) && files.length > 1 ? (\n                <span\n                  onClick={() => setShowPictures(!showPictures)}\n                  className=\"multiple-files-icon\"\n                >\n                  <FontAwesomeIcon color=\"grey\" icon=\"images\" />\n                  <span>Voir les autres photos</span>\n                </span>\n              ) : (\n                \"\"\n              )}\n              {showPictures ? (\n                <ShowPictures files={files} />\n              ) : (\n                <DropZone handleFileChange={handleFileChange} files={files} />\n              )}\n            </div>\n            <div>\n              <label>\n                <p>Titre</p>\n                <input\n                  type=\"text\"\n                  value={title}\n                  onChange={handleTitleChange}\n                  placeholder=\"ex : jolie manteau de l'akatsuki \"\n                />\n              </label>\n              <label>\n                <p>Décris ton article</p>\n                <textarea\n                  value={description}\n                  onChange={handleDescriptionChange}\n                  placeholder=\"un peu d'inpiration !!\"\n                ></textarea>\n              </label>\n              <label>\n                <p>Taille</p>\n                <input\n                  type=\"text\"\n                  value={size}\n                  onChange={handleSizeChange}\n                  placeholder=\"ex : taille S\"\n                />\n              </label>\n            </div>\n            <div>\n              <label>\n                <p>Ville</p>\n                <input\n                  type=\"text\"\n                  value={city}\n                  onChange={handleCityChange}\n                  placeholder=\"ex : Konoha\"\n                />\n              </label>\n              <label>\n                <p>Marque</p>\n                <input\n                  type=\"text\"\n                  value={brand}\n                  onChange={handleBrandChange}\n                  placeholder=\"ex : écrivez la marque\"\n                />\n              </label>\n              <label>\n                <p>État</p>\n                <input\n                  type=\"text\"\n                  value={condition}\n                  onChange={handleConditionChange}\n                  placeholder=\"ex : très bonne état\"\n                />\n              </label>\n            </div>\n            <div>\n              <label>\n                <p>Couleur</p>\n                <input\n                  type=\"text\"\n                  value={color}\n                  onChange={handleColorChange}\n                  placeholder=\"ex : noir et rouge\"\n                />\n              </label>\n              <label>\n                <p>Prix</p>\n                <input\n                  type=\"text\"\n                  value={price}\n                  onChange={handlePriceChange}\n                  placeholder=\"0.00€\"\n                />\n              </label>\n            </div>\n            <button type=\"submit\">Ajouter</button>\n          </form>\n        </div>\n      ) : (\n        \"Vous dever être connecter pour vendre des produits \"\n      )}\n    </>\n  );\n};\n\nexport default PublishPage;\n",["58","59"],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Components/Header/Header.js",[],["60","61"],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/Home/Home.js",[],["62","63"],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Components/DropZone.js",[],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/LoginAndSignUpPage/LoginPage.js",[],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/OfferPage/OfferPage.js",[],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/App.js",[],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/PaymentPage/PaymentPage.js",[],["64","65"],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Pages/LoginAndSignUpPage/SignUpPage.js",[],["66","67"],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Components/ShowPictures.js",[],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/Components/Drawer/Drawer.js",[],["68","69"],"/Users/lolliaryan/Le-reacteur/react/vinted-front/vinted_front/src/index.js",[],{"ruleId":"70","severity":1,"message":"71","line":10,"column":7,"nodeType":"72","messageId":"73","endLine":10,"endColumn":14},{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"74","replacedBy":"78"},{"ruleId":"76","replacedBy":"79"},{"ruleId":"74","replacedBy":"80"},{"ruleId":"76","replacedBy":"81"},{"ruleId":"74","replacedBy":"82"},{"ruleId":"76","replacedBy":"83"},{"ruleId":"74","replacedBy":"84"},{"ruleId":"76","replacedBy":"85"},{"ruleId":"74","replacedBy":"86"},{"ruleId":"76","replacedBy":"87"},"no-unused-vars","'history' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["88"],"no-negated-in-lhs",["89"],["88"],["89"],["88"],["89"],["88"],["89"],["88"],["89"],["88"],["89"],"no-global-assign","no-unsafe-negation"]